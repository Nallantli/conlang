{"version":3,"sources":["styles.module.scss","fontStyle.module.css","App.tsx","reportWebVitals.ts","index.tsx"],"names":["module","exports","interpolate","a","b","c","i","length","push","massInterpolate","value","callback","split","map","u","className","styles","GlossSeparator","console","log","GlossCell","props","data","gloss","replace","unit","key","SmallCaps","substr","GlossHover","glossKeys","GlossWord","GlossPhonemic","r","lastHeight","token","j","token_parts","newHeight","parseInt","style","top","height","backgroundImage","GlossIPA","getSyllableWeight","syllable","match","generateFromText","text","s","toLowerCase","newText","current","mode","Gloss","select","link","phnm","phnt","trns","expl","glosses","values","splitGloss","splitValue","dataTable","GlossHeader","id","GlossLink","href","GlossButton","onClick","fontStyles","FontLatin","GlossTable","GlossTrans","GlossExpl","dangerouslySetInnerHTML","__html","App","selectGloss","bind","removeGloss","applyQuery","clearQuery","state","query","newQuery","akamemi","this","indexOf","setState","concat","sort","filter","q","Content","includes","NewQueryContainer","window","location","join","NewQueryTotal","ButtonContainer","TextButton","NewQuery","NewQueryContainerAfter","React","Component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","urlParams","URLSearchParams","search","ReactDOM","render","StrictMode","get","document","getElementById"],"mappings":"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","file":"static/js/main.dd1b83ee.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"GlossTable\":\"styles_GlossTable__2J2Xr\",\"GlossCell\":\"styles_GlossCell__izrpm\",\"GlossIPA\":\"styles_GlossIPA__1yQIO\",\"SmallCaps\":\"styles_SmallCaps__2mT3y\",\"GlossWord\":\"styles_GlossWord__L6p1Z\",\"GlossHover\":\"styles_GlossHover__ElFXA\",\"Gloss\":\"styles_Gloss__N50EX\",\"GlossLink\":\"styles_GlossLink__3W4ix\",\"level-1\":\"styles_level-1__2u7NT\",\"level-2\":\"styles_level-2__3zPfM\",\"level-3\":\"styles_level-3__20XMV\",\"level-4\":\"styles_level-4__bB3DA\",\"level-5\":\"styles_level-5__3dtju\",\"level-6\":\"styles_level-6__2rmTF\",\"level-after-bottom\":\"styles_level-after-bottom__-fIGr\",\"level-after-top\":\"styles_level-after-top__3Eoky\",\"GlossTrans\":\"styles_GlossTrans__z9I2h\",\"GlossExpl\":\"styles_GlossExpl__3LCCD\",\"NewQueryContainer\":\"styles_NewQueryContainer__3yqK2\",\"Content\":\"styles_Content__1yDKa\",\"GlossButton\":\"styles_GlossButton__1bN9Z\",\"GlossHeader\":\"styles_GlossHeader__16p3f\",\"NewQueryContainerAfter\":\"styles_NewQueryContainerAfter__3NZ3d\",\"NewQuery\":\"styles_NewQuery__3fx2j\",\"NewQueryTotal\":\"styles_NewQueryTotal__17k7P\",\"ButtonContainer\":\"styles_ButtonContainer__BqFou\",\"TextButton\":\"styles_TextButton__ME-IW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FontEtlSerif\":\"fontStyle_FontEtlSerif__189fn\",\"FontEtlSans\":\"fontStyle_FontEtlSans__1Zupk\",\"FontEtlGothic\":\"fontStyle_FontEtlGothic__W_yvx\",\"FontEtlBlock\":\"fontStyle_FontEtlBlock__29SCA\",\"FontLatin\":\"fontStyle_FontLatin__2nNB5\"};","import React from 'react';\nimport './darkTheme.module.scss';\nimport './default.scss';\nimport styles from './styles.module.scss';\nimport fontStyles from './fontStyle.module.css';\nimport glossKeys from './glossKeys.json';\nimport akamemi from './akamemi.json';\n\ninterface GlossTemplate {\n\t\"link\": string,\n\t\"text\": string,\n\t\"phnm\"?: string,\n\t\"phnt\"?: string,\n\t\"trns\": string,\n\t\"expl\"?: string,\n\t\"data\": string[]\n}\n\nfunction interpolate(a: any[], b: any) {\n\tlet c = [];\n\tfor (let i = 0; i < a.length; i++) {\n\t\tc.push(a[i]);\n\t\tif (i < a.length - 1) {\n\t\t\tc.push(b);\n\t\t}\n\t}\n\treturn c;\n}\n\n// bruh moment\nfunction massInterpolate(value: string, callback: (a: string) => any) {\n\tif (!value) {\n\t\tconsole.log('no value');\n\t\treturn undefined;\n\t}\n\treturn interpolate(\n\t\tvalue.split('=').map(\n\t\t\tu => interpolate(\n\t\t\t\tu.split('-').map(\n\t\t\t\t\tu => interpolate(\n\t\t\t\t\t\tu.split('<').map(\n\t\t\t\t\t\t\tu => interpolate(\n\t\t\t\t\t\t\t\tu.split('>').map(\n\t\t\t\t\t\t\t\t\tu => interpolate(\n\t\t\t\t\t\t\t\t\t\tu.split('.').map(callback),\n\t\t\t\t\t\t\t\t\t\t(<span className={styles.GlossSeparator}>.</span>))),\n\t\t\t\t\t\t\t\t(<span className={styles.GlossSeparator}>&gt;</span>))),\n\t\t\t\t\t\t(<span className={styles.GlossSeparator}>&lt;</span>))),\n\t\t\t\t(<span className={styles.GlossSeparator}>-</span>))),\n\t\t(<span className={styles.GlossSeparator}>=</span>));\n}\n\nfunction resolveKey(key: string) {\n\treturn (glossKeys as { [key: string]: string })[key] || key;\n}\n\nfunction GlossCell(props: { data: [string, string] }) {\n\tconst [gloss, value] = props.data;\n\treturn (\n\t\t<table className={styles.GlossCell}>\n\t\t\t<tbody>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>{gloss.replace(/²/g, \"\").replace(/\\Ø/g, \"∅\").replace(/\\_/g, ' ')}</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t{massInterpolate(value, unit => {\n\t\t\t\t\t\t\tif (unit === '') {\n\t\t\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tswitch (unit[0]) {\n\t\t\t\t\t\t\t\tcase '$':\n\t\t\t\t\t\t\t\t\treturn (<span className={styles.SmallCaps}>{unit.replace(/\\_/g, ' ').substr(1)}<div className={styles.GlossHover}><p>{resolveKey(unit.replace(/\\_/g, ' ').substr(1))}</p></div></span>);\n\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\treturn (<span className={styles.GlossWord}>{unit.replace(/\\_/g, ' ')}</span>);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})}\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t</tbody>\n\t\t</table>\n\t);\n}\n\nfunction GlossPhonemic(props: { data: string }) {\n\tconst { data } = props;\n\tconst r = [];\n\tlet lastHeight = 0;\n\tfor (let i = 0; i < data.length; i++) {\n\t\tif (data[i] === '{') {\n\t\t\tlet token = '';\n\t\t\tfor (let j = i + 1; j < data.length; j++) {\n\t\t\t\tif (data[j] === '}') {\n\t\t\t\t\ti = j;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\ttoken += data[j];\n\t\t\t}\n\t\t\tconst token_parts = token.split(':');\n\t\t\tconst newHeight = parseInt(token_parts[1]) - 1;\n\t\t\tif (newHeight >= lastHeight) {\n\t\t\t\tr.push((\n\t\t\t\t\t<span\n\t\t\t\t\t\tclassName={styles[`level-${token_parts[1]}`]}\n\t\t\t\t\t>{token_parts[0]}\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tclassName={styles[\"level-after-bottom\"]}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\ttop: `calc(100% + ${(lastHeight * 2) + 5}px)`,\n\t\t\t\t\t\t\t\theight: `${(newHeight - lastHeight) * 2}px`,\n\t\t\t\t\t\t\t\tbackgroundImage: `linear-gradient(to ${(newHeight - lastHeight) % 2 === 0 ? 'top' : 'bottom'}, var(--color-text) 50%, rgba(255, 255, 255, 0) 0%)`\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t></span></span>));\n\t\t\t} else {\n\t\t\t\tr.push((\n\t\t\t\t\t<span\n\t\t\t\t\t\tclassName={styles[`level-${token_parts[1]}`]}\n\t\t\t\t\t>{token_parts[0]}\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tclassName={styles[\"level-after-top\"]}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\ttop: `calc(100% + ${(newHeight * 2) + 5}px)`,\n\t\t\t\t\t\t\t\theight: `${(lastHeight - newHeight) * 2}px`,\n\t\t\t\t\t\t\t\tbackgroundImage: `linear-gradient(to ${(lastHeight - newHeight) % 2 === 0 ? 'bottom' : 'top'}, var(--color-text) 50%, rgba(255, 255, 255, 0) 0%)`\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t></span></span>));\n\t\t\t}\n\t\t\tlastHeight = newHeight;\n\t\t} else {\n\t\t\tr.push(data[i]);\n\t\t\tlastHeight = 0;\n\t\t}\n\t}\n\treturn (<div className={styles.GlossIPA}>/{r}/</div>);\n}\n\nfunction transliterate(s: string) {\n\treturn s\n\t\t.replace(/²/g, \"\")\n\t\t.replace(/([^\\sa-zāēīōū])/g, \"\")\n\t\t.replace(/qu/g, \"q\")\n\t\t.replace(/hu/g, \"w\")\n\t\t.replace(/lh/g, \"ly\")\n\t\t.replace(/tl/g, 'j');\n}\n\nfunction getSyllableWeight(syllable: string) {\n\tswitch (syllable.length) {\n\t\tcase 1:\n\t\t\treturn syllable[0].match(/[aeiou]/) ? 2 : 5;\n\t\tcase 2:\n\t\t\tif (syllable[0].match(/[aeiou]/)) {\n\t\t\t\treturn syllable[1] === 'h' ? 1 : 3;\n\t\t\t}\n\t\t\tif (syllable[0].match(/[āēīōū]/)) {\n\t\t\t\treturn syllable[1] === 'h' ? 4 : 6;\n\t\t\t}\n\t\t\tif (syllable[1].match(/[aeiou]/)) {\n\t\t\t\treturn 2;\n\t\t\t}\n\t\t\tif (syllable[1].match(/[āēīōū]/)) {\n\t\t\t\treturn 5;\n\t\t\t}\n\t\t\treturn 0;\n\t\tcase 3: {\n\t\t\tif (syllable[1].match(/[aeiou]/)) {\n\t\t\t\treturn syllable[2] === 'h' ? 1 : 3;\n\t\t\t}\n\t\t\tif (syllable[1].match(/[āēīōū]/)) {\n\t\t\t\treturn syllable[2] === 'h' ? 4 : 6;\n\t\t\t}\n\t\t\treturn 0;\n\t\t}\n\t}\n}\n\nfunction generateFromText(text: string) {\n\ttext = transliterate(text.toLowerCase())\n\t\t.replace(/([bcdkjlmnpqrstwxyz]{0,1}[aeiouāēīōū](\\s|$|(?=[bcdkjlmnpqrstwxyz]{0,1}[aeiouāēīōū])|[bcdkjlmnpqrhstwxyz]))/g, '{$1}')\n\t\t.replace(/\\{(.*?) \\}/g, '{$1} ');\n\tlet newText = '';\n\tlet current = '';\n\tlet mode = 0;\n\tfor (let i = 0; i < text.length; i++) {\n\t\tswitch (mode) {\n\t\t\tcase 0:\n\t\t\t\tif (text[i] === '{') {\n\t\t\t\t\tmode = 1;\n\t\t\t\t} else {\n\t\t\t\t\tnewText += text[i];\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tif (text[i] === '}') {\n\t\t\t\t\tmode = 0;\n\t\t\t\t\tnewText += `{${current}:${getSyllableWeight(current)}}`;\n\t\t\t\t\tcurrent = '';\n\t\t\t\t} else {\n\t\t\t\t\tcurrent += text[i];\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t}\n\treturn newText\n\t\t.replace(/j/g, 't͜ɬ')\n\t\t.replace(/y/g, 'j')\n\t\t.replace(/x/g, 'ʃ')\n\t\t.replace(/c/g, 't͜ʃ')\n\t\t.replace(/z/g, 't͜s')\n\t\t.replace(/h/g, 'ʔ')\n\t\t.replace(/q/g, 'kʷ')\n\t\t.replace(/ā/g, 'a͈')\n\t\t.replace(/ē/g, 'e͈')\n\t\t.replace(/ī/g, 'i͈')\n\t\t.replace(/ō/g, 'o͈')\n\t\t.replace(/ū/g, 'u͈');\n}\n\nfunction Gloss(props: { gloss: GlossTemplate, select: (link: string) => void }) {\n\tconst { gloss, select } = props;\n\tconst { data, link, text, phnm, phnt, trns, expl } = gloss;\n\tconst [glosses, values] = data;\n\tconst splitGloss = glosses.split(/\\s+/g);\n\tconst splitValue = values.split(/\\s+/g);\n\tconst dataTable = [];\n\tdataTable.push(<div>{\n\t\tsplitGloss.map((gloss, i) => (<GlossCell data={[gloss, splitValue[i]]} />))\n\t}</div>);\n\treturn (\n\t\t<div className={styles.Gloss}>\n\t\t\t<div className={styles.GlossHeader}>\n\t\t\t\t<a id={link} className={styles.GlossLink} href={`#${link}`}>#{link}</a>\n\t\t\t\t<button className={styles.GlossButton} onClick={() => select(link)}>+</button>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<span className={fontStyles.FontLatin}>{text.replace(/²/g, '')}</span>\n\t\t\t</div>\n\t\t\t<div className={styles.GlossTable}>\n\t\t\t\t<GlossPhonemic data={phnm || generateFromText(text)} />\n\t\t\t\t{phnt && <div className={styles.GlossIPA}>[{phnt}]</div>}\n\t\t\t\t{dataTable}\n\t\t\t\t{trns && <div className={styles.GlossTrans}>{trns}</div>}\n\t\t\t</div>\n\t\t\t{expl && <div className={styles.GlossExpl} dangerouslySetInnerHTML={{ __html: expl }}></div>}\n\t\t</div>\n\t);\n}\n\ninterface AppProps {\n\tquery?: string[]\n}\ninterface AppState {\n\tquery: string[],\n\tnewQuery: string[],\n\tglosses: GlossTemplate[]\n}\n\nfunction arrayEqual(a: any[], b: any[]) {\n\tif (a.length !== b.length) {\n\t\treturn false;\n\t}\n\tfor (let i = 0; i < a.length; i++) {\n\t\tif (a[i] !== b[i]) {\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n}\nexport default class App extends React.Component<AppProps, AppState> {\n\tconstructor(props: AppProps) {\n\t\tsuper(props);\n\t\tthis.selectGloss = this.selectGloss.bind(this);\n\t\tthis.removeGloss = this.removeGloss.bind(this);\n\t\tthis.applyQuery = this.applyQuery.bind(this);\n\t\tthis.clearQuery = this.clearQuery.bind(this);\n\t\tthis.state = {\n\t\t\tquery: props.query || [],\n\t\t\tnewQuery: props.query || [],\n\t\t\tglosses: akamemi || []\n\t\t};\n\t}\n\n\tselectGloss(link: string) {\n\t\tif (this.state.newQuery.indexOf(link) === -1) {\n\t\t\tthis.setState({\n\t\t\t\tnewQuery: this.state.newQuery.concat(link).sort()\n\t\t\t});\n\t\t}\n\t}\n\n\tremoveGloss(link: string) {\n\t\tthis.setState({\n\t\t\tnewQuery: this.state.newQuery.filter(q => q !== link)\n\t\t}, () => {\n\t\t\tif (this.state.newQuery.length === 0) {\n\t\t\t\tthis.clearQuery();\n\t\t\t}\n\t\t});\n\t}\n\n\tclearQuery() {\n\t\tthis.setState({\n\t\t\tquery: []\n\t\t});\n\t}\n\n\tapplyQuery() {\n\t\tthis.setState({\n\t\t\tquery: this.state.newQuery\n\t\t});\n\t}\n\n\trender() {\n\t\tconst { query, newQuery, glosses } = this.state;\n\t\treturn (\n\t\t\t<div className=\"App\">\n\t\t\t\t<div className={styles.Content}>\n\t\t\t\t\t{(query.length != 0 ? glosses.filter(a => query.includes(a.link)) : glosses)\n\t\t\t\t\t\t.map(data => (<Gloss gloss={data} select={this.selectGloss} />))}\n\t\t\t\t</div>\n\t\t\t\t{\n\t\t\t\t\tnewQuery.length !== 0 &&\n\t\t\t\t\t<div className={styles.NewQueryContainer}>\n\t\t\t\t\t\t<button onClick={() => {\n\t\t\t\t\t\t\twindow.location.href = `?q=${newQuery.join('|')}`;\n\t\t\t\t\t\t}} className={styles.NewQueryTotal}>{`?q=${newQuery.join('|')}`}</button>\n\t\t\t\t\t\t<div className={styles.ButtonContainer}>\n\t\t\t\t\t\t\t<button className={styles.TextButton} onClick={() => this.clearQuery()}>RESET</button>\n\t\t\t\t\t\t\t<button className={styles.TextButton} onClick={() => this.applyQuery()}>APPLY</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{newQuery.map(link => (<button onClick={() => this.removeGloss(link)} className={styles.NewQuery}>{link}</button>))}\n\t\t\t\t\t\t<div className={styles.NewQueryContainerAfter}>{`~ LINK(${newQuery.length}) ~`}</div>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst urlParams = new URLSearchParams(window.location.search);\n\nReactDOM.render(\n  <React.StrictMode>\n    <App query={urlParams.get('q')?.split('|')}/>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}